(()=>{"use strict";var e={7876:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(5004),o=n(5222),i=n(8402),a=n(5861),s=n(885),l=n(9385),u=n(6591),d=n(3693),c=n(6792),f=n(327);n(8874),n(9531);f.default.apps.length||f.default.initializeApp({apiKey:"AIzaSyAyL_zbGF6WPIWJMg6BXS7yYaw9wBVGATQ",authDomain:"netpiraters.firebaseapp.com",projectId:"netpiraters",storageBucket:"netpiraters.appspot.com",messagingSenderId:"33126733154",appId:"1:33126733154:web:2f3c32b5bf86fab43fc83b",measurementId:"G-DK75ZJ23MX"});const p=f.default;var h=n(2629),g=c.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",padding:20},input:{width:"80%",padding:10,marginBottom:10,borderBottomWidth:1,borderBottomColor:"gray"}});const m=function(e){var t=e.navigation,n=(0,r.useState)(""),o=(0,s.default)(n,2),i=o[0],c=o[1],f=(0,r.useState)(""),m=(0,s.default)(f,2),b=m[0],y=m[1],v=function(){var e=(0,a.default)((function*(){try{yield p.auth().signInWithEmailAndPassword(i,b),t.navigate("Questions")}catch(e){console.error("Login failed:",e)}}));return function(){return e.apply(this,arguments)}}();!function(){var e=(0,a.default)((function*(){try{yield p.auth().createUserWithEmailAndPassword(i,b),t.navigate("Questions")}catch(e){console.error("Signup failed:",e)}}))}();return(0,h.jsxs)(l.default,{style:g.container,children:[(0,h.jsx)(u.default,{style:g.input,placeholder:"Email",onChangeText:function(e){return c(e)},value:i}),(0,h.jsx)(u.default,{style:g.input,placeholder:"Password",onChangeText:function(e){return y(e)},value:b,secureTextEntry:!0}),(0,h.jsx)(d.default,{title:"Login",onPress:v})]})};var b=n(4942),y=n(1054),v=n(5288),x=n(3019);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,b.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=c.default.create({container:{padding:20},headerText:{fontSize:20,fontWeight:"bold",marginBottom:20,textAlign:"center"},timerText:{fontSize:16,fontWeight:"bold",textAlign:"center",marginBottom:10},questionContainer:{marginBottom:20},questionText:{fontSize:16,marginBottom:10,fontWeight:"bold"},optionsContainer:{flexDirection:"row",flexWrap:"wrap"},optionButton:{backgroundColor:"#f0f0f0",paddingVertical:10,paddingHorizontal:15,borderRadius:5,margin:5},optionText:{fontSize:14},finishButton:{backgroundColor:"blue",padding:15,borderRadius:8,marginTop:20,alignItems:"center"},finishButtonText:{color:"white",fontWeight:"bold",fontSize:16},borderContainer:{borderWidth:1,borderColor:"#ccc",padding:10,borderRadius:8},selectedOption:{backgroundColor:"lightblue"},disabledOption:{backgroundColor:"#ddd",opacity:.7},timerExpiredText:{textAlign:"center",color:"red",fontWeight:"bold",marginTop:10},testLockedText:{textAlign:"center",color:"red",fontWeight:"bold",marginTop:10}});const S=function(e){var t=e.navigation,n=(0,r.useState)([]),o=(0,s.default)(n,2),i=o[0],u=o[1],d=(0,r.useState)({}),c=(0,s.default)(d,2),f=c[0],g=c[1],m=(0,r.useState)(""),j=(0,s.default)(m,2),S=j[0],w=j[1],C=(0,r.useState)(600),P=(0,s.default)(C,2),k=P[0],B=P[1],A=(0,r.useState)(!1),E=(0,s.default)(A,2),W=E[0],I=E[1],z=(0,r.useState)(!1),L=(0,s.default)(z,2),_=L[0],q=L[1];(0,r.useEffect)((function(){var e=function(){var e=(0,a.default)((function*(){var e=p.firestore().collection("questions"),t=yield e.get(),n=[];t.forEach((function(e){n.push(T({id:e.id},e.data()))})),u(n);var r=p.auth().currentUser;r&&(w(r.email),D(r.email))}));return function(){return e.apply(this,arguments)}}();e();var t=setInterval((function(){B((function(e){return e-1}))}),1e3);return function(){return clearInterval(t)}}),[]),(0,r.useEffect)((function(){k<=0&&(I(!0),q(!0),M(S))}),[k]);var D=function(){var e=(0,a.default)((function*(e){var t=yield p.firestore().collection("user_answers").doc(e).get();t.exists&&(t.data().testLocked&&q(!0))}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,a.default)((function*(e){yield p.firestore().collection("user_answers").doc(e).set({testLocked:!0},{merge:!0})}));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,a.default)((function*(){var e=i.filter((function(e){return!f[e.id]}));if(W||e.length>0)alert("Please answer all questions within the time limit!");else try{var n=p.firestore().collection("user_answers").doc(S);yield n.set(f),q(!0),M(S),t.navigate("CompletedTest")}catch(r){console.error("Error saving answers:",r)}}));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(x.default,{contentContainerStyle:O.container,children:_?(0,h.jsx)(y.default,{style:O.testLockedText,children:"Test session locked. You have completed the test or the time expired."}):W?(0,h.jsx)(y.default,{style:O.timerExpiredText,children:"Time is up! Test session expired."}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y.default,{style:O.headerText,children:"Select the correct options:"}),(0,h.jsxs)(y.default,{style:O.timerText,children:["Time Remaining: ",function(e){var t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`}(k)]}),i.map((function(e,t){return(0,h.jsxs)(l.default,{style:[O.questionContainer,t%2===0?O.borderContainer:null],children:[(0,h.jsx)(y.default,{style:O.questionText,children:e.question}),(0,h.jsx)(l.default,{style:O.optionsContainer,children:e.options.map((function(t,n){return(0,h.jsx)(v.default,{style:[O.optionButton,f[e.id]===t?O.selectedOption:null],onPress:function(){return function(e,t){W?alert("Time is up! Test session expired."):g(T(T({},f),{},(0,b.default)({},e,t)))}(e.id,t)},disabled:W,children:(0,h.jsx)(y.default,{style:O.optionText,children:t})},n)}))})]},e.id)})),(0,h.jsx)(v.default,{style:O.finishButton,onPress:Q,disabled:W,children:(0,h.jsx)(y.default,{style:O.finishButtonText,children:"Finish Test"})})]})})};var w=c.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"}});const C=function(e){var t=e.navigation;return(0,h.jsxs)(l.default,{style:w.container,children:[(0,h.jsx)(y.default,{children:"Your Completed Test"}),(0,h.jsx)(d.default,{title:"Logout",onPress:function(){p.auth().signOut(),t.navigate("Auth")}})]})};var P=(0,i.default)();const k=function(){return(0,h.jsx)(o.default,{children:(0,h.jsxs)(P.Navigator,{children:[(0,h.jsx)(P.Screen,{name:"Auth",component:m,options:{title:"Login/Signup"}}),(0,h.jsx)(P.Screen,{name:"Questions",component:S,options:{title:"Answer Questions"}}),(0,h.jsx)(P.Screen,{name:"CompletedTest",component:C,options:{title:"Completed Test"}})]})})}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,i)=>{if(!r){var a=1/0;for(d=0;d<e.length;d++){for(var[r,o,i]=e[d],s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,o,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[a,s,l]=r,u=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var d=l(n)}for(t&&t(r);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[989],(()=>n(6271)));r=n.O(r)})();
//# sourceMappingURL=main.1129811e.js.map